# Усунення проблем та помилок

> Цей файл містить розгорнуті інструкції, журнали команд і чек-листи
> для найчастіших технічних збоїв.

---

## 1. Помилка 404 у документації (Q2)

### Чому стається

- URL містить застарілий **anchor** після міграції розділу.
- Документ тимчасово приховано під час релізу нової версії.
- CDN кешує попередню 301-redirect.

### Рішення

1. Очистіть кеш браузера (Ctrl + Shift + R) або спробуйте Incognito.
2. Знайдіть статтю через **глобальний пошук** (⌘/Ctrl + K).
3. Перевірте <https://status.service.com> — якщо **Docs: Maintenance**, зачекайте.
4. Якщо проблема точкова, повідомте посилання в чат підтримки; ми створимо
   `<issue-id>` і наддамо альтернативний URL.

---

## 2. Файл не проходить антивірус (Q10)

### Алгоритм перевірки

1. **ClamAV** (signature-based).
2. **Yara rules** — макроси, обфускація.
3. **ML Sandbox** (heuristic) для виконуваних файлів.

### Що дозволено

| Тип        | Розширення           | Макс. розмір |
| ---------- | -------------------- | ------------ |
| Документи  | pdf, docx, xlsx      | 250 МБ       |
| Зображення | png, jpg, svg        | 50 МБ        |
| Архіви     | zip, 7z (без пароля) | 1 ГБ         |

> Файли з паролем блокуються на кроці 1.  
> Для винятку запакуйте в ZIP із паролем **scanme** і вкажіть пароль у полі
> «Comment» при завантаженні.

---

## 3. Завантаження зупинилось на 99 % (Q16)

### Діагностика

- Перевірте **Network tab** — чи йдуть `PUT /upload`-chunk запити.
- Запустіть `ping app.service.com` — якщо стабільно > 200 ms, використайте **CLI**.

#### CLI з підтримкою resume

```bash
ai-cli files upload ./large.zip --resume
```

CLI ділить файл на чанки 5 МБ і повторно надсилає лише пошкоджені.

⸻

### 4. Пошук не бачить нові документи (Q34)

• Індекс оновлюється кожні 15 хв.
• У Налаштування → Пошук є кнопка Reindex now — корисно після масового імпорту.
• Якщо після ручного reindex проблема лишилась, перевірте, чи файл не має
прапорця draft: true у метаданих.

⸻

### 5. Помилка 500 на /v2/export (Q39)

Логи для сапорту

X-Request-ID: 1a2b-3c4d-5e6f
Date: 2025-06-28T10:15:42Z
Payload size: 125 MB
Format: xlsx

    •	Спробуйте /v1/export (старий ендпоїнт) — якщо працює — це регресія.
    •	Статус-сторінка Export Service покаже збій кластера або перевищення пам’яті.
    •	У сапорт-тікет долучіть лог + зразок файлу ≤ 10 МБ.

⸻

### 6. Додаткові шаблони вирішення

• Помилки 4xx/5xx — див. docs/error_reference.md.
• CLI troubleshoot — docs/cli_guide.md.
